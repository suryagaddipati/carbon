# UFC data source definitions
name: ufc_datasources
description: Data source schemas for UFC/MMA analytics

datasources:
  events:
    type: table
    table: ufc_events
    database: ufc_analytics
    schema: core
    description: UFC event information including dates, venues, and locations
    columns:
      - name: event_id
        type: number
        description: Unique event identifier
      - name: event_name
        type: string
        description: Official event name (e.g., "UFC 300: Pereira vs Hill")
      - name: event_date
        type: date
        description: Date when the event took place
      - name: location
        type: string
        description: City, state/province, country of event
      - name: venue
        type: string
        description: Arena or venue name where event was held

  fighters:
    type: table
    table: ufc_fighter_details
    database: ufc_analytics
    schema: core
    description: Comprehensive fighter profiles and physical attributes
    columns:
      - name: fighter_id
        type: number
        description: Unique fighter identifier
      - name: fighter_name
        type: string
        description: Fighter's full name
      - name: nickname
        type: string
        description: Fighter's nickname or alias
      - name: height_cm
        type: number
        description: Fighter height in centimeters
      - name: weight_lbs
        type: number
        description: Fighter weight in pounds
      - name: reach_cm
        type: number
        description: Fighter reach in centimeters
      - name: stance
        type: string
        description: Fighting stance (Orthodox, Southpaw, Switch)
      - name: date_of_birth
        type: date
        description: Fighter's date of birth
      - name: nationality
        type: string
        description: Fighter's nationality
      - name: weight_class
        type: string
        description: Fighter's primary weight division

  fight_results:
    type: table
    table: ufc_fight_results
    database: ufc_analytics
    schema: core
    description: Fight outcomes and basic match information
    columns:
      - name: fight_id
        type: number
        description: Unique fight identifier
      - name: event_id
        type: number
        description: Reference to event where fight occurred
      - name: fighter_1_id
        type: number
        description: First fighter in the bout
      - name: fighter_2_id
        type: number
        description: Second fighter in the bout
      - name: winner_id
        type: number
        description: ID of the winning fighter
      - name: method
        type: string
        description: Method of victory (Decision, KO/TKO, Submission)
      - name: round
        type: number
        description: Round in which fight ended
      - name: time
        type: string
        description: Time at which fight ended (MM:SS format)
      - name: weight_class
        type: string
        description: Weight class of the fight
      - name: is_title_fight
        type: boolean
        description: Whether this was a championship bout

  fight_details:
    type: table
    table: ufc_fight_details
    database: ufc_analytics
    schema: core
    description: Detailed fight statistics and performance metrics
    columns:
      - name: fight_id
        type: number
        description: Reference to fight
      - name: fighter_id
        type: number
        description: Reference to fighter (multiple rows per fight)
      - name: significant_strikes_landed
        type: number
        description: Number of significant strikes that landed
      - name: significant_strikes_attempted
        type: number
        description: Number of significant strikes attempted
      - name: total_strikes_landed
        type: number
        description: Total strikes landed (including jabs)
      - name: total_strikes_attempted
        type: number
        description: Total strikes attempted
      - name: takedowns_landed
        type: number
        description: Successful takedowns executed
      - name: takedowns_attempted
        type: number
        description: Takedown attempts made
      - name: submission_attempts
        type: number
        description: Number of submission attempts
      - name: knockdowns
        type: number
        description: Number of knockdowns scored
      - name: control_time_seconds
        type: number
        description: Ground control time in seconds

  # Example of external data integration
  fighter_rankings:
    type: api
    endpoint: "https://api.ufc.com/rankings"
    refresh_schedule: weekly
    description: Current UFC fighter rankings by division
    
  # Example of streaming data for live events
  live_fight_feed:
    type: stream
    source: kafka
    topic: ufc_live_stats
    description: Real-time fight statistics during live events