# E-commerce data source definitions
name: ecommerce_datasources
description: Data source schemas for e-commerce analytics

datasources:
  orders:
    type: table
    table: orders
    database: analytics
    schema: ecommerce
    description: Customer order transactions
    columns:
      - name: id
        type: number
        description: Unique order identifier
      - name: customer_id
        type: number
        description: Reference to customer
      - name: total_amount
        type: currency
        description: Total order value
      - name: status
        type: string
        description: Order status (pending, completed, cancelled, shipped)
      - name: channel
        type: string
        description: Order channel (web, mobile, store)
      - name: order_date
        type: date
        description: Date when order was placed

  customers:
    type: table
    table: customers  
    database: analytics
    schema: ecommerce
    description: Customer master data
    columns:
      - name: id
        type: number
        description: Unique customer identifier
      - name: name
        type: string
        description: Customer full name
      - name: email
        type: string
        description: Customer email address
      - name: region
        type: string
        description: Geographic region (West, East, North, South)
      - name: tier
        type: string
        description: Customer loyalty tier (Bronze, Silver, Gold, Platinum)
      - name: lifetime_value
        type: currency
        description: Total customer lifetime value
      - name: first_order_date
        type: date
        description: Date of customer's first order
      - name: age
        type: number
        description: Customer age

  products:
    type: table
    table: products
    database: analytics
    schema: ecommerce
    description: Product catalog
    columns:
      - name: id
        type: number
        description: Unique product identifier
      - name: name
        type: string
        description: Product name
      - name: category
        type: string
        description: Product category
      - name: brand
        type: string
        description: Product brand
      - name: unit_price
        type: currency
        description: Product unit price

  order_items:
    type: table
    table: order_items
    database: analytics
    schema: ecommerce
    description: Individual items within orders
    columns:
      - name: id
        type: number
        description: Unique line item identifier
      - name: order_id
        type: number
        description: Reference to order
      - name: product_id
        type: number
        description: Reference to product
      - name: quantity
        type: number
        description: Quantity ordered
      - name: unit_price
        type: currency
        description: Unit price at time of order
      - name: total_price
        type: currency
        description: Total line item price

  # Example of other data source types for flexibility
  customer_events:
    type: view
    sql: |
      SELECT 
        customer_id,
        event_type,
        event_timestamp,
        event_properties
      FROM raw.customer_events
      WHERE event_timestamp >= '2023-01-01'
    description: Customer behavioral events view
    
  monthly_metrics:
    type: api
    endpoint: "https://api.company.com/metrics/monthly"
    refresh_schedule: daily
    description: Monthly business metrics from external API